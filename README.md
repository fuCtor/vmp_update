Сервер обновлений
=======
Локальный сервер обновлений для [электронного справочника организаций Вектор](http://vmp.ru)

Системные требования
------------

Сервер работает на любой операционной системе, которая поддерживает Ruby1.9.


Установка
------------
Для установки необходимо клонировать код из репозитория:

	git clone https://github.com/fuCtor/vmp_update.git`

После этого установить все необходимые gem-ы:
	
	cd vmp_update
	chmode +x updater.rb
	sudo gem install bundler
	sudo bundle install
	
Использование
------------
Для запуска используется скрипт **updater.rb** с различными параметрами.

Сервер Обновлений:

- **run** запуск сервера обновлений;
- **port** порт, на котором будет запущен сервер.

Получение новых обновлений:

- **sync** проверка наличия новых обновлений и при наличии скачать;
- **remote_url** URL сервер на котором проверять обновления, по-умолчанию *http://update.vmp.ru/json*

Другие параметры:

- **database** путь до файлы базы данных SQLite, где будет храниться информация об обновлениях;
- **cache** путь до директории, в которую будут загружаться обновления.

При проверке проверяется наличие обновлений только тех модулей, которые запрашивали пользователи. Таким образом если какой-либо город ни разу не запрашивался, то обновления для него не будут получены.

Лицензия
------------
MIT license.